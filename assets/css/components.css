/* Typography clamps */
h1 { font-size: clamp(1.5rem, 3.5vw, 2rem); }
h2 { font-size: clamp(1.25rem, 3vw, 1.5rem); }
h3 { font-size: clamp(1.125rem, 2.5vw, 1.25rem); }

/* Tap targets */
a, button { min-height: 44px; }

/* Buttons */
.btn {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem 0.875rem;
  border-radius: var(--radius, 0.5rem);
  text-decoration: none;
  box-shadow: var(--shadow, 0 8px 24px rgba(0,0,0,.08));
  transition: all var(--dur, 250ms) ease;
  border: none;
  cursor: pointer;
  font-weight: 500;
}

.btn-primary {
  background: linear-gradient(135deg, var(--primary, #667eea), var(--secondary, #764ba2));
  color: var(--primary-contrast, #ffffff);
  border: 1px solid var(--primary, #667eea);
}
.btn-primary:hover {
  background: linear-gradient(135deg, var(--primary-dark, #5a67d8), var(--secondary, #764ba2));
  transform: translateY(-2px);
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
}

.btn-secondary {
  background: var(--accent, #10b981);
  color: var(--primary-contrast, #ffffff);
  border: 1px solid var(--accent, #10b981);
}
.btn-secondary:hover {
  background: var(--accent-dark, #059669);
  transform: translateY(-2px);
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
}

.btn-outline {
  background: transparent;
  color: var(--primary, #667eea);
  border: 2px solid var(--primary, #667eea);
}
.btn-outline:hover {
  background: var(--primary, #667eea);
  color: var(--primary-contrast, #ffffff);
  transform: translateY(-2px);
}
.btn-icon {
  inline-size: 44px;
  block-size: 44px;
  display: inline-grid;
  place-items: center;
  border-radius: var(--radius-md, 0.75rem);
  background: transparent;
  border: none;
  color: inherit;
  cursor: pointer;
}

/* Overlay */
.sidebar-overlay {
  position: fixed;
  inset: 0;
  background: var(--overlay, rgba(0,0,0,.5));
  opacity: 0;
  pointer-events: none;
  transition: opacity var(--dur, 250ms) ease;
  z-index: var(--z-overlay, 999);
}

/* Sidebar base */
.sidebar {
  background: var(--panel-bg, #111827);
  color: var(--text, #e5e7eb);
  block-size: 100dvh;
  inline-size: 280px;
  box-shadow: var(--shadow, 0 8px 24px rgba(0,0,0,.08));
  z-index: var(--z-sidebar, 1000);
}
@media (max-width: 1024px) {
  .sidebar {
    position: fixed;
    inset-block: 0;
    inset-inline-start: 0;
    transform: translateX(-100%);
    transition: transform var(--dur, 250ms) ease;
  }
  .sidebar.is-open { transform: translateX(0); }
  .sidebar-overlay.is-show { opacity: 1; pointer-events: auto; }
  body.no-scroll { overflow: hidden; }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  * { transition-duration: 1ms !important; animation-duration: 1ms !important; }
}

/* Tables */
.table-actions .btn,
.table-actions .btn-icon { min-height: 44px; }

/* Forms */
.form-row { display: grid; gap: var(--space-3, .75rem); }
input, select, textarea {
  padding: .625rem .75rem;
  border-radius: .5rem;
}

/* Responsive helpers */
@media (max-width: 768px) {
  .header .search { inline-size: 100%; }
}
@media (max-width: 480px) {
  .grid { grid-template-columns: 1fr !important; }
  .table-wrapper { overflow-x: auto; }
  .btn { inline-size: 100%; justify-content: center; }
  .form-row { gap: var(--space-2, .5rem); }
}

/* ==============================
   Layout helpers
   ============================== */
.container {
  max-width: var(--container-lg, 1100px);
  margin-inline: auto;
  padding-inline: var(--space-4, 1rem);
}
@media (min-width: 1280px) { .container { max-width: var(--container-xl, 1280px); } }
@media (max-width: 768px)  { .container { padding-inline: var(--space-3, .75rem); } }

.grid {
  display: grid;
  gap: var(--space-4, 1rem);
}
.grid-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
.grid-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
.grid-4 { grid-template-columns: repeat(4, minmax(0, 1fr)); }
@media (max-width: 1024px) { .grid-3, .grid-4 { grid-template-columns: repeat(2, minmax(0, 1fr)); } }
@media (max-width: 640px)  { .grid-2, .grid-3, .grid-4 { grid-template-columns: 1fr; } }

/* Card base */
.card {
  background: var(--panel-bg, #fff);
  color: var(--text, #111827);
  border: 1px solid var(--border, rgba(0,0,0,.08));
  border-radius: var(--radius-lg, 1rem);
  box-shadow: var(--shadow, 0 8px 24px rgba(0,0,0,.08));
  padding: var(--space-5, 1.25rem);
}

/* Responsive tables */
.table-container { width: 100%; overflow-x: auto; }
.table { width: 100%; border-collapse: collapse; }
.table th, .table td { padding: .75rem 1rem; text-align: left; white-space: nowrap; }
.table thead th { position: sticky; top: 0; background: var(--panel-bg, #fff); z-index: 1; }
.table tr { border-bottom: 1px solid var(--border, rgba(0,0,0,.08)); }

/* Focus visibility for a11y */
:where(a, button, input, select, textarea, [tabindex]):focus-visible {
  outline: 3px solid color-mix(in oklab, var(--primary, #3b82f6) 60%, transparent);
  outline-offset: 2px;
  border-radius: var(--radius, .5rem);
}

/* Visually hidden (accessible) */
.sr-only {
  position: absolute;
  width: 1px; height: 1px;
  padding: 0; margin: -1px;
  overflow: hidden; clip: rect(0,0,0,0);
  white-space: nowrap; border: 0;
}